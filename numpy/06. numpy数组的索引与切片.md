### 06. numpy数组的索引与切片
NumPy数组的索引是一个内容丰富的主题，因为选取数据子集或单个元素的方式有很多。一维数
组很简单。从表面上看，它们跟Python列表的功能差不多：
```python
arr = np.arange(10)
arr
Output: array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])

arr[5]
Output: 5

arr[5:8]
Output: array([5, 6, 7])

arr[5:8] = 12
arr
Output: array([0, 1, 2, 3, 4, 12, 12, 12, 8, 9])
```
如上所示，当你将一个标量值赋值给一个切片时（如`arr[5:8]=12`），该值会自动传播（也就说后面
将会讲到的“广播”）到整个选区。跟列表最重要的区别在于，数组切片是原始数组的视图。这意味
着数据不会被复制，视图上的任何修改都会直接反映到源数组上。

作为例子, 先创建一个arr的切片:
```python
arr_slice = arr[5:8]
arr_slice
Output: array([12, 12, 12])
```
现在，当我修稿arr_slice中的值，变动也会体现在原始数组arr中：
```python
arr_slice[1] = 12345
arr
Output: array([0, 1, 2, 3, 4, 12, 12345, 12, 8, 9])
```

如果你刚开始接触NumPy，可能会对此感到惊讶（尤其是当你曾经用过其他热衷于复制数组数据
的编程语言）。由于NumPy的设计目的是处理大数据，所以你可以想象一下，假如NumPy坚持要
将数据复制来复制去的话会产生何等的性能和内存问题。
```
注意：如果你想要得到的是ndarray切片的一份副本而非视图，就需要明确地进行复制操作，
例如 arr[5:8].copy() 。
```
对于高维度数组，能做的事情更多。在一个二维数组中，各索引位置上的元素不再是标量而是一维
数组：
```python
arr2d = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])
arr2d[2]
Output: array([7, 8, 9])
```
因此，可以对各个元素进行递归访问，但这样需要做的事情有点多。你可以传入一个以逗号隔开的
索引列表来选取单个元素。也就是说，下面两种方式是等价的：
```python
arr2d[0][2]
Output: 3

arr2d[0, 2]
Output: 3
```

在多维数组中，如果省略了后面的索引，则返回对象会是一个维度低一点的`ndarray`（它含有高一
级维度上的所有数据）。因此，在2×2×3数组`arr3d`中：
```python
arr3d = np.array([[[1, 2, 3], [4, 5, 6]], [[7, 8, 9], [10, 11, 12]]])
arr3d
Output: array([[[ 1, 2, 3],
                [ 4, 5, 6]],
                
                [[ 7, 8, 9],
                [10, 11, 12]]])
```
arr3d[0]是一个2×3数组(返回第一页的数据)：
```python
arr3d[0]
Output: array([[1, 2, 3],
                [4, 5, 6]])
```
标量值和数组都可以被赋值给arr3d[0]：
```python
old_values = arr3d[0].copy()
arr3d[0] = 42
arr3d
Output: array([[[42, 42, 42],
                [42, 42, 42]],

                [[ 7, 8, 9],
                [10, 11, 12]]])

arr3d[0] = old_values
arr3d
Output: array([[[ 1, 2, 3],
                [ 4, 5, 6]],
                
                [[ 7, 8, 9],
                [10, 11, 12]]])
```
相似的，arr3d[1,0]可以访问索引以(1,0)开头的那些值（以一维数组的形式返回）：
```python
arr3d[1, 0]
Output: array([7, 8, 9])
```


